<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body>

    <h1 class="text-center" id="heading">
        Todos Application
    </h1>

    <div class="d-flex justify-content-center align-items-center">
        <input type="text" placeholder="enter the task" id="inputTag">

        <button class="btn btn-primary ms-2" onclick="addTask()">add task</button>
    </div>

    <div id="parent" class="d-flex flex-column justify-content-center align-items-center gap-2 my-2">
        <!-- 
        <div>

            <input type="checkbox">

            <span>
                wakeup at 6 am tomorrow
            </span>

            <button class="btn btn-warning">Edit</button>

            <button class="btn btn-danger">Delete</button>

        </div>

        <div>

            <input type="checkbox">

            <span>
                testing
            </span>

            <button class="btn btn-warning">Edit</button>

            <button class="btn btn-danger">Delete</button>

        </div>

        <div>

            <input type="checkbox">

            <span>
                task 3
            </span>

            <button class="btn btn-warning">Edit</button>

            <button class="btn btn-danger">Delete</button>

        </div> -->


    </div>


    <script>

        let todos = [
            {
                title: 'wake up at 6 am',
                completed : false
                
            },

            {
                title: "go to movie",
                completed : true
            }
        ]

        let parent = document.getElementById('parent');

        let inputTag = document.getElementById("inputTag");

        let heading = document.getElementById("heading")

        console.log(heading.innerHTML, 'heading')

        function showTodos() {

            parent.innerHTML = ''

            todos.forEach((ele, index) => {

                let divTag = document.createElement("div");

                divTag.innerHTML = `
             <div class='d-flex align-items-center gap-2'>

            <input type="checkbox" ${ele.completed ? "checked" : "" } onchange="handleCheckbox(${index})">

            <span class='${ele.completed ? "text-decoration-line-through" : "" }'>
                ${ele.title}
            </span>

            <button class="btn btn-warning" onclick="handleEdit(${index})">Edit</button>

            <button class="btn btn-danger" onclick='handleDelete(${index})'>Delete</button>

        </div>`
                parent.innerHTML = parent.innerHTML + divTag.innerHTML;
            })


        }


        function addTask() {
            console.log(inputTag.value, 'addtask is running');

            if (inputTag.value.trim() !== '') {
                todos.push({ title: inputTag.value, completed : false })

                console.log(todos, 'todos in the add task')

                inputTag.value = ''

                showTodos()


            }


        }


        function handleCheckbox(index) {
            console.log(index, todos,"todos")


            let currentstatus = todos[index].completed


            todos[index].completed = !currentstatus

            showTodos()


        }


        function handleEdit(index) {

           let updatedTitle = prompt("enter the updated data");

           todos[index].title = updatedTitle;

           showTodos()

        

        }



        function handleDelete(index) {
            console.log(index,'delete function')

            // todos.splice(starting index to delete, how many ele to delete)

            todos.splice(index,1);

            console.log(todos,'todos in the deeter')

            showTodos()
        }
        showTodos()






    </script>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

</body>

</html>